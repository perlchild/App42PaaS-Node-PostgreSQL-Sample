{
  "name": "bugsnag",
  "description": "Bugsnag notifier for node.js scripts",
  "version": "1.5.1",
  "main": "./lib/bugsnag.js",
  "homepage": "http://bugsnag.com",
  "dependencies": {
    "stack-trace": ">=0.0.6",
    "request": ">=2.36.0"
  },
  "devDependencies": {
    "mocha": "latest",
    "chai": "~1.5.0",
    "coffee-script": "latest",
    "sinon": "latest",
    "grunt": "~0.4.0",
    "grunt-contrib-coffee": "latest",
    "grunt-mocha-test": "latest",
    "grunt-bumpx": "latest",
    "express": "~3.4.2"
  },
  "repository": {
    "type": "git",
    "url": "git@github.com:bugsnag/bugsnag-node.git"
  },
  "keywords": [
    "error",
    "bugsnag",
    "exception"
  ],
  "license": "MIT",
  "scripts": {
    "test": "mocha --compilers coffee:coffee-script/register"
  },
  "engine": {
    "node": ">=0.8"
  },
  "readme": "Bugsnag Notifier for Node.js\n============================\n\nThe Bugsnag Notifier for Node.js automatically notifies you of synchronous and asynchronous errors in your Node.js applications.\n\n[Bugsnag](http://bugsnag.com) captures errors in real-time from your web, mobile and desktop applications, helping you to understand and resolve them as fast as possible. [Create a free account](http://bugsnag.com) to start capturing errors from your applications.\n\n\nInstallation & Setup\n--------------------\n\nInstall bugsnag using npm:\n\n```bash\nnpm install bugsnag --save\n```\n\nRequire bugsnag in your node.js app:\n\n```javascript\nvar bugsnag = require(\"bugsnag\");\n```\n\nRegister the bugsnag notifier with your API key:\n\n```javascript\nbugsnag.register(\"your-api-key-here\");\n```\n\nSee below for [additional configuration options](#configuration).\n\n\nUsing Express or Connect Middleware\n-----------------------------------\n\nIf your app uses [Express](http://expressjs.com/) or [Connect](http://www.senchalabs.org/connect/), Bugsnag can automatically capture errors that happen during requests, including errors that happen in asynchronous code.\n\nTo ensure that asynchronous errors are routed to the error handler, add the `requestHandler` middleware to your app as the **first middleware**:\n\n```javascript\napp.use(bugsnag.requestHandler);\n```\n\nYou'll also need to add Bugsnag's error handling middleware, make sure to add this after all other middleware, but before any \"error\" middleware:\n\n```javascript\napp.use(bugsnag.errorHandler);\n```\n\nUsing Restify\n-------------\n\nIf your app uses [Restify](http://mcavage.me/node-restify/), Bugsnag can automatically capture errors that happen during requests.\n\nTo get notified of the errors in your app, just add the Bugsnag restify handler to your code.\n\n```javascript\nserver.on(\"uncaughtException\", bugsnag.restifyHandler);\n```\n\nIf you don't use any other uncaughtException event listeners, you will need to add the default handler\nback in, like this.\n\n```javascript\nserver.on(\"uncaughtException\", function (req, res, route, e) {\n  if (!res._headerSent) res.send(new restify.InternalError(e, e.message || 'unexpected error'));\n});\n```\n\n\nUsing Coffeescript\n------------------\n\nWhen executing coffeecript code directly using the `coffee` executable, Bugsnag cannot notify about uncaught exceptions that occur at the top level of your app. This is due to a [\"feature\"](https://github.com/jashkenas/coffee-script/issues/1438) of the `coffee` executable.\n\nTo avoid this issue, make sure to compile your coffeescript files into javascript before running your app.\n\n\nSend Non-Fatal Exceptions to Bugsnag\n------------------------------------\n\nTo send non-fatal exceptions to Bugsnag, you can pass any `Error` object or string to the `notify` method:\n\n```javascript\nbugsnag.notify(new Error(\"Non-fatal\"));\n```\n\nYou can also send additional meta data with your exception:\n\n```javascript\nbugsnag.notify(new Error(\"Non-fatal\"), {\n  user: {\n    username: \"bob-hoskins\",\n    name: \"Bob Hoskins\",\n    email: \"bob@example.com\"\n  }\n});\n```\n\n### Severity\n\nYou can set the severity of an error in Bugsnag by including the severity option when\nnotifying bugsnag of the error,\n\n```javascript\nbugsnag.notify(new Error(\"Non-fatal\"), {\n  severity: \"error\"\n})\n```\n\nValid severities are `error`, `warning` and `info`.\n\nSeverity is displayed in the dashboard and can be used to filter the error list.\nBy default all crashes (or unhandled exceptions) are set to `error` and all\n`bugsnag.notify` calls default to `warning`.\n\nSee the full documentation for the [notify](#notify) function for more details.\n\n\nCapturing Asynchronous Errors\n-----------------------------\n\nBugsnag can automatically capture both synchronous and asynchronous errors in your code if you wrap it in an `autoNotify` function. *Note: If you are using the `bugsnag.requestHandler` middleware for Express or Connect, we automatically wrap your requests with `autoNotify`.*\n\n```javascript\nbugsnag.autoNotify(function() {\n  // Your code here\n});\n```\n\nAdditionally, you can pass options into `autoNotify` that will be used as default options for the notify call to any errors. See the [notify](#notify) docs for more details.\n\n```javascript\nbugsnag.autoNotify({ context: \"thisContext\" }, function() {\n  // Your code here\n});\n```\n\nThe `autoNotify` function creates a Node.js [`Domain`](http://nodejs.org/api/domain.html) which automatically routes all uncaught errors to Bugsnag.\n\n\nCapturing Errors in Callback Functions\n--------------------------------------\n\nMany callback functions in Node are called with an error as the first arguement. Bugsnag can intercept these errors if you wrap your callback with  `bugsnag.intercept`:\n\n```javascript\nfunctionWithCallback(bugsnag.intercept(function(argument) {\n  // Your code here\n}));\n```\n\nIf the first argument is non-null, Bugsnag will be automatically notified of the error, and your callback will not be executed. The first argument is never passed to your callback, since it is assumed to be the error argument.\n\n\nConfiguration\n-------------\n\nThe `bugsnag.register` can accept an options object as its second parameter. The options can be a combination of any of the following:\n\n### releaseStage\n\nBy default, Bugsnag looks at the NODE_ENV environment variable to see what releaseStage the script is running in. If that is not set, Bugsnag assumes you are running in production. If you want to override this behavior, you can set the `releaseStage` option:\n\n```javascript\nbugsnag.register(\"your-api-key-here\", { releaseStage: \"development\" });\n```\n\n### notifyReleaseStages\n\nBy default the notifier will notify Bugsnag of production and development exceptions. If you wish to be notified about production exceptions only, you can set the `notifyReleaseStages` option.\n\n```javascript\nbugsnag.register(\"your-api-key-here\", { notifyReleaseStages: [\"production\"] });\n```\n\n### appVersion\n\nIf you use an appVersion to identify releases of your app you can send it to Bugsnag. When set errors will only unresolve when they re-occur in a newer appVersion.\n\n```javascript\nbugsnag.register(\"your-api-key-here\", { appVersion: \"1.0.0\" });\n```\n\n### autoNotify\n\nBugsnag will automatically register for the `uncaughtexception` event. If you do not wish for this to happen, you can disable the functionality as part of the register call:\n\n```javascript\nbugsnag.register(\"your-api-key-here\", { autoNotify: false });\n```\n\n<!-- Custom anchor for linking from alerts -->\n<div id=\"set-project-root\"></div>\n### projectRoot\n\nBugsnag can highlight stacktrace lines that are in your project, and automatically hides stacktrace lines from external libraries. If Bugsnag is not hiding external stacktrace lines, it is likely that the `projectRoot` is being incorrectly calculated. You can set `projectRoot` as part of the register call:\n\n```javascript\nbugsnag.register(\"your-api-key-here\", { projectRoot: \"/path/to/root\" });\n```\n\n### packageJSON\n\nIf the Bugsnag notifier is unable to locate your `package.json`, you can specify where to find it using `packageJSON`:\n\n```javascript\nbugsnag.register(\"your-api-key-here\", { packageJSON: \"/path/to/package.json\" });\n```\n\n### useSSL\n\nBy default, errors will be sent to Bugsnag using SSL. To disable SSL, you can set `useSSL`:\n\n```javascript\nbugsnag.register(\"your-api-key-here\", { useSSL: false });\n```\n\n### onUncaughtError\n\nBy default, bugsnag will exit your application if there is an uncaught exception or an uncaught event emitter \"error\" event. This is in line with standard node.js behaviour. If you want to have different behaviour, then please set onUncaughtError as follows,\n\n```javascript\nbugsnag.register(\"your-api-key-here\", { onUncaughtError: function(err){\n  console.error(err.stack || err);\n}});\n```\n\nThis function is called for all errors that aren't manually sent to bugsnag.notify. So a bugsnag.intercept call will trigger a call to onUncaughtError.\n\n### metaData\n\nIt is often very useful to send some extra application or user specific data along with every exception. To do this, you can set the `metaData`:\n\n```javascript\nbugsnag.register(\"your-api-key-here\", { metaData: {\n  user: {\n    username: \"bob-hoskins\",\n    name: \"Bob Hoskins\",\n    email: \"bob@example.com\"\n  }\n}});\n```\n\nYou can adjust this after calling register by using the `bugsnag.metaData` property.\n\n### proxy\n\nYou can use a proxy server by configuring a proxy url when registering with bugsnag.\n\n```javascript\nbugsnag.register(\"your-api-key-here\", { proxy: \"http://localhost:8080\" });\n```\n\n### filters\n\nYou can prevent some meta-data keys (such as passwords) from being sent to Bugsnag by listing\nthem in the filters. This is most useful if you're sending request data and don't want to\naccidentally log a user's password. The keys are matched with substring matching, so the default\nvalue of `[\"password\"]` also excludes things like `\"password_confirmation\"`.\n\n```javascript\nbugsnag.register(\"your-api-key-here\", { filters: [\"password\", \"creditcard\"] }\n```\n\nNotify\n------\n\nThe `bugsnag.notify` function accepts an error as either a string or an Error object as the first argument, as well as options object as its second parameter. The options can be a combination of any of the following:\n\n### errorName\n\nErrors in your Bugsnag dashboard are grouped by their \"error class\", to override the error class you can set `errorName`:\n\n```javascript\nbugsnag.notify(new Error(\"Something went badly wrong\"), { errorName: \"BadError\" });\n```\n\n### context\n\nA string representing what was happening in your application at the time of the error. In Express/Connect apps, this will automatically be set to the URL of the current request.\n\n```javascript\nbugsnag.notify(new Error(\"Something went badly wrong\"), { context: \"/users/new\" });\n```\n\n### userId\n\nA unique identifier for a user affected by this error. This could be any distinct identifier that makes sense for your application. In Express/Connect apps, this is automatically set to the ip address of the current request.\n\n```javascript\nbugsnag.notify(new Error(\"Something went badly wrong\"), { userId: \"bob-hoskins\" });\n```\n\n### groupingHash\n\nIf you need programmatical control over how the errors are grouped within bugsnag, you can send a groupingHash to the notify call. This will ensure that bugsnag groups all errors with the same groupingHash together.\n\n```javascript\nbugsnag.notify(error, { groupingHash: \"auth/create\" });\n```\n\n### metaData\n\nAny extra data you want along with the exception report to Bugsnag. To do this just set other properties on the object, and you will see them as tabs in the error dashboard.\n\n```javascript\nbugsnag.notify(new Error(\"Something went badly wrong\"), {\n  user: {\n    username: \"bob-hoskins\",\n    name: \"Bob Hoskins\",\n    email: \"bob@example.com\"\n  }\n});\n```\n\n### severity\n\nYou can set the severity of an error in Bugsnag by including the severity option when\nnotifying bugsnag of the error,\n\n```ruby\nbugsnag.notify(new Error(\"Non-fatal\"), {\n  severity: \"error\"\n})\n```\n\nValid severities are `error`, `warning` and `info`.\n\nSeverity is displayed in the dashboard and can be used to filter the error list.\nBy default all crashes (or unhandled exceptions) are set to `error` and all\n`Bugsnag.notify` calls default to `warning`.\n\n### callback\n\nA callback to call after notifying Bugsnag of an error. The callback has two arguments, `err` and `response`. The `err` argument will contain any error received when trying to send the notification, the `response` object will contain the response received from Bugsnag:\n\n```javascript\nbugsnag.notify(new Error(\"Something went badly wrong\"), function (error, response) {\n  if(err) {\n    // Something went wrong\n  } else {\n    // The notify worked\n  }\n})\n```\n\n\nReporting Bugs or Feature Requests\n----------------------------------\n\nPlease report any bugs or feature requests on the github issues page for this project here:\n\n<https://github.com/bugsnag/bugsnag-node/issues>\n\n\nContributing\n------------\n\n-   [Fork](https://help.github.com/articles/fork-a-repo) the [notifier on github](https://github.com/bugsnag/bugsnag-node)\n-   Commit and push until you are happy with your contribution. Please only edit the coffeescript files.\n-   [Make a pull request](https://help.github.com/articles/using-pull-requests)\n-   Thanks!\n\nReleasing\n---------\n\nEnsure all the coffee-script is compiled, and the tests pass:\n\n    grunt\n\nBump the version number\n\n    grunt bump\n\nPush tag to github\n\n    grunt release\n\nPush code to npm\n\n    npm publish\n\nLicense\n-------\n\nThe Bugsnag Node.js notifier is free software released under the MIT License.  See [LICENSE.txt](https://github.com/bugsnag/bugsnag-node/blob/master/LICENSE.txt) for details.\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/bugsnag/bugsnag-node/issues"
  },
  "_id": "bugsnag@1.5.1",
  "_from": "bugsnag@*"
}
